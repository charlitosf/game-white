{
  "rules": {
    "gameData": {
      "$gameDataId": {
        ".read": "auth !== null && (data.child('public').child('admin').val() === auth.uid)",
        ".write": "auth !== null && (data.child('public').child('admin').val() === auth.uid || !data.exists())",
        "public": {
          ".read": "auth !== null",
          "participants": {
            "$userId": {
              ".write": "auth !== null && $userId === auth.uid"
            }
          }
        },
        "word": {
          ".read": "auth !== null && data.parent().child('public').child('participants').child(auth.uid).exists() && !data.parent().child('whitePlayers').child(auth.uid).exists()"
        },
        "whitePlayers": {
          "$userId": {
            ".read": "auth !== null && auth.uid === $userId && data.parent().parent().child('public').child('participants').child(auth.uid).exists()"
          }
        }
      }
    },
    "userGame": {
      ".read": "auth !== null",
      "$userId": {
        ".write": "auth !== null && (auth.uid === $userId || root.child('gameData').child(data.val()).child('public').child('admin').val() === auth.uid)"
      }
    }
  }
}
